<!doctype html>
<html>
  <head>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script type="text/javascript">
      $(function() {
        $('a#process_input').bind('click', function() {
        $.getJSON('/config_stack', {
          stack: $('input[name="stack"]').val(),
        }, function(data) {
          $("#result").text(data.result);
        });
        return false;
        });
      });
    </script>
  </head>
  <body>
    <nav>
      <h1>nofluffscrapper</h1>
    </nav>
    <section class="filters">
      {% for key, value in form_items.items() %}
      <form action="" method="POST">
        <div class="">{{ key }}</div>
        <ul>
          {% for element, checked in value.items() %}
            <li>
              <input type="checkbox" id="{{ element }}" name="{{ element }}" {% if checked == "on"%}checked{% endif %}/>
              <label for={{ element }} class="">{{ element }}</label>
            </li>
          {% endfor %}
        </ul>
      {% endfor %}
      <input type="Submit" value="Submit"/>
    </form>
    </section>
    <section class="stack" style="margin-top: 40px;">
      <form action="" method="POST">
      <div>Define your skills:</div>
      <input type="text" name="stack">
      <a href="#" id="process_input"><button>Submit</button></a>
    </form>
    <p id="result"></p>
    </section>
  </body>
</html>
